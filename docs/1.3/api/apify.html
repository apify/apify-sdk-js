<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-1.3 plugin-docs plugin-id-default docs-doc-id-api/apify">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Apify | Apify Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.apify.com/img/docs-og.png"><meta data-rh="true" name="twitter:image" content="https://docs.apify.com/img/docs-og.png"><meta data-rh="true" property="og:url" content="https://docs.apify.com/sdk/js/docs/1.3/api/apify"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.3"><meta data-rh="true" name="docusaurus_tag" content="default-1.3"><meta data-rh="true" name="docsearch:version" content="1.3"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default-1.3"><meta data-rh="true" name="docsearch:section" content="apify-sdk-js"><meta data-rh="true" name="docsearch:section_tag" content="docs-default-1.3"><meta data-rh="true" property="og:title" content="Apify | Apify Documentation"><meta data-rh="true" name="description" content="The following section describes all functions and properties provided by the apify package, except individual classes and namespaces that have their"><meta data-rh="true" property="og:description" content="The following section describes all functions and properties provided by the apify package, except individual classes and namespaces that have their"><link data-rh="true" rel="icon" href="/sdk/js/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.apify.com/sdk/js/docs/1.3/api/apify"><link data-rh="true" rel="alternate" href="https://docs.apify.com/sdk/js/docs/1.3/api/apify" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.apify.com/sdk/js/docs/1.3/api/apify" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://N8EOCSBQGH-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Apify Documentation" href="/sdk/js/opensearch.xml">

<!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-MNGXGGB",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager -->
<script async defer="defer" id="hs-script-loader" src="//js.hs-scripts.com/19497222.js"></script><link rel="stylesheet" href="/sdk/js/assets/css/styles.70d9711d.css">
<link rel="preload" href="/sdk/js/assets/js/runtime~main.3ba61b57.js" as="script">
<link rel="preload" href="/sdk/js/assets/js/main.7ae77ce8.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div style="--ifm-navbar-height:123px;margin:0;padding:0;box-sizing:border-box"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div style="width:100%;height:fit-content;align-items:center;display:flex;flex-direction:column"><div class="navbar__inner"><div class="navbar__container"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://docs.apify.com" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/sdk/js/img/apify_sdk.svg" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/sdk/js/img/apify_sdk_white.svg" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a href="https://docs.apify.com/academy" target="_self" rel="dofollow" class="navbar__item navbar__link">Academy</a><a href="https://docs.apify.com/platform" target="_self" rel="dofollow" class="navbar__item navbar__link">Platform</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__item navbar__link">API</a><ul class="dropdown__menu"><li><a href="https://docs.apify.com/api/v2/" target="_self" rel="dofollow" class="dropdown__link">Reference</a></li><li><a href="https://docs.apify.com/api/client/js/" target="_self" rel="dofollow" class="dropdown__link">Client for JavaScript</a></li><li><a href="https://docs.apify.com/api/client/python/" target="_self" rel="dofollow" class="dropdown__link">Client for Python</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__item navbar__link navbar__link--active">SDK</a><ul class="dropdown__menu"><li><a href="https://docs.apify.com/sdk/js/" target="_self" rel="dofollow" class="dropdown__link">SDK for JavaScript</a></li><li><a href="https://docs.apify.com/sdk/python/" target="_self" rel="dofollow" class="dropdown__link">SDK for Python</a></li></ul></div><a href="https://docs.apify.com/cli/" target="_self" rel="dofollow" class="navbar__item navbar__link">CLI</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link navbar__item">Open source</a><ul class="dropdown__menu"><li><a href="https://crawlee.dev" target="_blank" rel="dofollow" class="dropdown__link">Crawlee<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/apify/got-scraping" target="_blank" rel="noopener noreferrer" class="dropdown__link">Got Scraping<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/apify/fingerprint-suite" target="_blank" rel="noopener noreferrer" class="dropdown__link">Fingerprint Suite<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/apify" target="_blank" rel="noopener noreferrer" class="dropdown__link">Apify on GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="toggle_tst0 colorModeToggle_pe1S"><button class="clean-btn toggleButton_i_WE toggleButtonDisabled_j78O" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><span><svg viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg" width="14" height="14" class="lightToggleIcon_Upjj"><g clip-path="url(#clip0_833_8168)"><path d="M6.59998 8.49999C7.98069 8.49999 9.09998 7.3807 9.09998 5.99999C9.09998 4.61928 7.98069 3.49999 6.59998 3.49999C5.21926 3.49999 4.09998 4.61928 4.09998 5.99999C4.09998 7.3807 5.21926 8.49999 6.59998 8.49999Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6.59985 0.5V1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6.59985 10.5V11.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.7099 2.11L3.4199 2.82" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.77991 9.17999L10.4899 9.88999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M1.09998 6H2.09998" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11.0999 6H12.0999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.7099 9.88999L3.4199 9.17999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.77991 2.82L10.4899 2.11" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_833_8168"><rect width="12" height="12" fill="white" transform="translate(0.599976)"></rect></clipPath></defs></svg><svg viewBox="0 0 13 12" width="14" height="14" class="darkToggleIcon_AJo4"><path d="M10.7001 6.39501C10.6215 7.24611 10.3021 8.05721 9.77927 8.7334C9.25646 9.40959 8.55189 9.92291 7.748 10.2133C6.9441 10.5036 6.07414 10.5591 5.2399 10.3731C4.40565 10.187 3.64164 9.76728 3.03726 9.1629C2.43287 8.55851 2.01312 7.7945 1.8271 6.96026C1.64108 6.12602 1.6965 5.25605 1.98688 4.45216C2.27725 3.64826 2.79056 2.94369 3.46675 2.42088C4.14294 1.89808 4.95404 1.57866 5.80515 1.50001C5.30685 2.17414 5.06707 3.00473 5.12941 3.84071C5.19175 4.6767 5.55208 5.46254 6.14485 6.05531C6.73762 6.64808 7.52346 7.0084 8.35944 7.07074C9.19542 7.13308 10.026 6.8933 10.7001 6.39501Z" stroke="currentColor" fill="transparent" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></button></div><a href="https://github.com/apify" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="Apify on GitHub">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.com/invite/jyEM2PRvMU" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="Chat on Discord">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div></div><div class="navbar__inner navbar__sub"><div class="navbar__container"><div class="navbar__items"><div class="navbar__sub--title"><a class="navbar__item navbar__link" href="/sdk/js/">SDK for JavaScript</a></div><a class="navbar__item navbar__link" href="/sdk/js/docs/1.3/guides/apify-platform">Docs</a><a class="navbar__item navbar__link" href="/sdk/js/docs/1.3/examples">Examples</a><a class="navbar__item navbar__link" href="/sdk/js/reference">Reference</a><a class="navbar__item navbar__link" href="/sdk/js/docs/changelog">Changelog</a><a href="https://github.com/apify/apify-sdk-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link navbar__item" aria-haspopup="true" aria-expanded="false" role="button" data-api-links="[&quot;reference/next&quot;,&quot;reference&quot;,&quot;reference/2.3&quot;,&quot;reference/1.3&quot;]" href="/sdk/js/docs/1.3/guides/motivation">1.3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/sdk/js/docs/next/guides/apify-platform">Next</a></li><li><a class="dropdown__link" href="/sdk/js/docs/guides/apify-platform">3.0</a></li><li><a class="dropdown__link" href="/sdk/js/docs/2.3/api/apify">2.3</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/sdk/js/docs/1.3/api/apify">1.3</a></li></ul></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/sdk/js/docs/1.3/guides/motivation">Guide</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/sdk/js/docs/1.3/examples">Examples</a><button aria-label="Toggle the collapsible sidebar category &#x27;Examples&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/sdk/js/docs/1.3/api/apify">API Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/sdk/js/docs/1.3/api/apify">Apify</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sdk/js/docs/1.3/api/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sdk/js/docs/1.3/api/basic-crawler">Crawlers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sdk/js/docs/1.3/api/dataset">Result Stores</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sdk/js/docs/1.3/api/autoscaled-pool">Scaling</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sdk/js/docs/1.3/api/request">Sources</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/sdk/js/docs/1.3/api/utils">Utilities</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/sdk/js/docs/1.3/typedefs/autoscaled-pool-options">Type Definitions</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sdk/js/docs/1.3/changelog">Changelog</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Apify Documentation<!-- --> <b>1.3</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/sdk/js/docs/guides/apify-platform">latest version</a></b> (<!-- -->3.0<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/sdk/js/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API Reference</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Apify</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.3</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Apify</h1></header><a name="apify"></a><p>The following section describes all functions and properties provided by the <code>apify</code> package, except individual classes and namespaces that have their
separate, detailed, documentation pages accessible from the left sidebar. To learn how Apify SDK works, we suggest following the
<a href="/sdk/js/docs/1.3/guides/getting-started">Getting Started</a> tutorial.</p><p><strong>Important:</strong></p><blockquote><p>The following functions: <code>addWebhook</code>, <code>call</code>, <code>callTask</code> and <code>newClient</code> invoke features of the <a href="/sdk/js/docs/1.3/guides/apify-platform">Apify platform</a> and
require your scripts to be authenticated. See the <a href="/sdk/js/docs/1.3/guides/apify-platform#logging-into-apify-platform-from-apify-sdk">authentication guide</a> for
instructions.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apify-class"><code>Apify</code> Class<a href="#apify-class" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>As opposed to those helper functions, there is an alternative approach using <code>Apify</code> class (a named export). It has mostly the same API, but the
methods on <code>Apify</code> instance will use the configuration provided in the constructor. Environment variables will have precedence over this
configuration.</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;apify&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// use named export to get the class</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> sdk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Apify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">token</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;123&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;token&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// &#x27;123&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// the token will be passed to the `call` method automatically</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> run </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> sdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">call</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;apify/hello-world&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">myInput</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Received message: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">run</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">output</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">body</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">message</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Another example shows how the default dataset name can be changed:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;apify&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// use named export to get the class</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> sdk </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Apify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">defaultDatasetId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;custom-name&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> sdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pushData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">myValue</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>is equivalent to:</p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;apify&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// use default export to get the helper functions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> dataset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">openDataset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;custom-name&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> dataset</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pushData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">myValue</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>See <a href="/sdk/js/docs/1.3/api/configuration"><code>Configuration</code></a> for details about what can be configured and what are the default values.</p><hr><a name="addwebhook"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifyaddwebhookoptions"><code>Apify.addWebhook(options)</code><a href="#apifyaddwebhookoptions" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Creates an ad-hoc webhook for the current actor run, which lets you receive a notification when the actor run finished or failed. For more information
about Apify actor webhooks, please see the <a href="https://docs.apify.com/webhooks" target="_blank" rel="noopener">documentation</a>.</p><p>Note that webhooks are only supported for actors running on the Apify platform. In local environment, the function will print a warning and have no
effect.</p><p><strong>Parameters</strong>:</p><ul><li><strong><code>options</code></strong>: <code>object</code><ul><li><strong><code>eventTypes</code></strong>: <a href="/sdk/js/docs/1.3/typedefs/event-types"><code>EventTypes</code></a> - Array of event types, which you can set for actor run, see the
<a href="https://docs.apify.com/webhooks/events#actor-run" target="_blank" rel="noopener">actor run events</a> in the Apify doc.</li><li><strong><code>requestUrl</code></strong>: <code>string</code> - URL which will be requested using HTTP POST request, when actor run will reach the set event type.</li><li><strong><code>[payloadTemplate]</code></strong>: <code>string</code> - Payload template is a JSON-like string that describes the structure of the webhook POST request payload.
It uses JSON syntax, extended with a double curly braces syntax for injecting variables <code>{{variable}}</code>. Those variables are resolved at the
time of the webhook&#x27;s dispatch, and a list of available variables with their descriptions is available in the
<a href="https://docs.apify.com/webhooks" target="_blank" rel="noopener">Apify webhook documentation</a>. If <code>payloadTemplate</code> is omitted, the default payload template is used
(<a href="https://docs.apify.com/webhooks/actions#payload-template" target="_blank" rel="noopener">view docs</a>).</li><li><strong><code>[idempotencyKey]</code></strong>: <code>string</code> - Idempotency key enables you to ensure that a webhook will not be added multiple times in case of an actor
restart or other situation that would cause the <code>addWebhook()</code> function to be called again. We suggest using the actor run ID as the
idempotency key. You can get the run ID by calling <a href="/sdk/js/docs/1.3/api/apify#getenv"><code>Apify.getEnv()</code></a> function.</li></ul></li></ul><p><strong>Returns</strong>:</p><p><a href="/sdk/js/docs/1.3/typedefs/webhook-run"><code>Promise&lt;(WebhookRun|undefined)&gt;</code></a> - The return value is the Webhook object. For more information, see the
<a href="https://apify.com/docs/api/v2#/reference/webhooks/webhook-object/get-webhook" target="_blank" rel="noopener">Get webhook</a> API endpoint.</p><hr><a name="call"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifycallactid-input-options"><code>Apify.call(actId, [input], [options])</code><a href="#apifycallactid-input-options" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Runs an actor on the Apify platform using the current user account (determined by the <code>APIFY_TOKEN</code> environment variable), waits for the actor to
finish and fetches its output.</p><p>By passing the <code>waitSecs</code> option you can reduce the maximum amount of time to wait for the run to finish. If the value is less than or equal to zero,
the function returns immediately after the run is started.</p><p>The result of the function is an <a href="/sdk/js/docs/1.3/typedefs/actor-run"><code>ActorRun</code></a> object that contains details about the actor run and its output (if any). If the
actor run fails, the function throws the <a href="/sdk/js/docs/1.3/api/apify-call-error"><code>ApifyCallError</code></a> exception.</p><p>If you want to run an actor task rather than an actor, please use the <a href="/sdk/js/docs/1.3/api/apify#calltask"><code>Apify.callTask()</code></a> function instead.</p><p>For more information about actors, read the <a href="https://docs.apify.com/actor" target="_blank" rel="noopener">documentation</a>.</p><p><strong>Example usage:</strong></p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> run </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">call</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;apify/hello-world&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">myInput</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Received message: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">run</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">output</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">body</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">message</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Internally, the <code>call()</code> function invokes the <a href="https://apify.com/docs/api/v2#/reference/actors/run-collection/run-actor" target="_blank" rel="noopener">Run actor</a> and several other
API endpoints to obtain the output.</p><p><strong>Throws</strong>:</p><ul><li><a href="/sdk/js/docs/1.3/api/apify-call-error"><code>ApifyCallError</code></a> If the run did not succeed, e.g. if it failed or timed out.</li></ul><p><strong>Parameters</strong>:</p><ul><li><strong><code>actId</code></strong>: <code>string</code> - Allowed formats are <code>username/actor-name</code>, <code>userId/actor-name</code> or actor ID.</li><li><strong><code>[input]</code></strong>: <code>Object&lt;string, *&gt;</code> - Input for the actor. If it is an object, it will be stringified to JSON and its content type set to
<code>application/json; charset=utf-8</code>. Otherwise the <code>options.contentType</code> parameter must be provided.</li><li><strong><code>[options]</code></strong>: <code>object</code> - Object with the settings below:<ul><li><strong><code>[contentType]</code></strong>: <code>string</code> - Content type for the <code>input</code>. If not specified, <code>input</code> is expected to be an object that will be stringified
to JSON and content type set to <code>application/json; charset=utf-8</code>. If <code>options.contentType</code> is specified, then <code>input</code> must be a <code>String</code> or
<code>Buffer</code>.</li><li><strong><code>[token]</code></strong>: <code>string</code> - User API token that is used to run the actor. By default, it is taken from the <code>APIFY_TOKEN</code> environment variable.</li><li><strong><code>[memoryMbytes]</code></strong>: <code>number</code> - Memory in megabytes which will be allocated for the new actor run. If not provided, the run uses memory of
the default actor run configuration.</li><li><strong><code>[timeoutSecs]</code></strong>: <code>number</code> - Timeout for the actor run in seconds. Zero value means there is no timeout. If not provided, the run uses
timeout of the default actor run configuration.</li><li><strong><code>[build]</code></strong>: <code>string</code> - Tag or number of the actor build to run (e.g. <code>beta</code> or <code>1.2.345</code>). If not provided, the run uses build tag or
number from the default actor run configuration (typically <code>latest</code>).</li><li><strong><code>[waitSecs]</code></strong>: <code>number</code> - Maximum time to wait for the actor run to finish, in seconds. If the limit is reached, the returned promise is
resolved to a run object that will have status <code>READY</code> or <code>RUNNING</code> and it will not contain the actor run output. If <code>waitSecs</code> is null or
undefined, the function waits for the actor to finish (default behavior).</li><li><strong><code>[fetchOutput]</code></strong>: <code>boolean</code> <code> = true</code> - If <code>false</code> then the function does not fetch output of the actor.</li><li><strong><code>[disableBodyParser]</code></strong>: <code>boolean</code> <code> = false</code> - If <code>true</code> then the function will not attempt to parse the actor&#x27;s output and will
return it in a raw <code>Buffer</code>.</li><li><strong><code>[webhooks]</code></strong>: <a href="/sdk/js/docs/1.3/typedefs/adhoc-webhook"><code>Array&lt;AdhocWebhook&gt;</code></a> - Specifies optional webhooks associated with the actor run, which can be
used to receive a notification e.g. when the actor finished or failed, see
<a href="https://docs.apify.com/webhooks/ad-hoc-webhooks" target="_blank" rel="noopener">ad hook webhooks documentation</a> for detailed description.</li></ul></li></ul><p><strong>Returns</strong>:</p><p><a href="/sdk/js/docs/1.3/typedefs/actor-run"><code>Promise&lt;ActorRun&gt;</code></a></p><hr><a name="calltask"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifycalltasktaskid-input-options"><code>Apify.callTask(taskId, [input], [options])</code><a href="#apifycalltasktaskid-input-options" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Runs an actor task on the Apify platform using the current user account (determined by the <code>APIFY_TOKEN</code> environment variable), waits for the task to
finish and fetches its output.</p><p>By passing the <code>waitSecs</code> option you can reduce the maximum amount of time to wait for the run to finish. If the value is less than or equal to zero,
the function returns immediately after the run is started.</p><p>The result of the function is an <a href="/sdk/js/docs/1.3/typedefs/actor-run"><code>ActorRun</code></a> object that contains details about the actor run and its output (if any). If the
actor run failed, the function fails with <a href="/sdk/js/docs/1.3/api/apify-call-error"><code>ApifyCallError</code></a> exception.</p><p>Note that an actor task is a saved input configuration and options for an actor. If you want to run an actor directly rather than an actor task,
please use the <a href="/sdk/js/docs/1.3/api/apify#call"><code>Apify.call()</code></a> function instead.</p><p>For more information about actor tasks, read the <a href="https://docs.apify.com/tasks" target="_blank" rel="noopener">documentation</a>.</p><p><strong>Example usage:</strong></p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> run </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">callTask</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;bob/some-task&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Received message: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">run</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">output</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">body</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">message</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Internally, the <code>callTask()</code> function calls the <a href="https://apify.com/docs/api/v2#/reference/actor-tasks/run-collection/run-task" target="_blank" rel="noopener">Run task</a> and several
other API endpoints to obtain the output.</p><p><strong>Throws</strong>:</p><ul><li><a href="/sdk/js/docs/1.3/api/apify-call-error"><code>ApifyCallError</code></a> If the run did not succeed, e.g. if it failed or timed out.</li></ul><p><strong>Parameters</strong>:</p><ul><li><strong><code>taskId</code></strong>: <code>string</code> - Allowed formats are <code>username/task-name</code>, <code>userId/task-name</code> or task ID.</li><li><strong><code>[input]</code></strong>: <code>Object&lt;string, *&gt;</code> - Input overrides for the actor task. If it is an object, it will be stringified to JSON and its content type
set to <code>application/json; charset=utf-8</code>. Provided input will be merged with actor task input.</li><li><strong><code>[options]</code></strong>: <code>object</code> - Object with the settings below:<ul><li><strong><code>[token]</code></strong>: <code>string</code> - User API token that is used to run the actor. By default, it is taken from the <code>APIFY_TOKEN</code> environment variable.</li><li><strong><code>[memoryMbytes]</code></strong>: <code>number</code> - Memory in megabytes which will be allocated for the new actor task run. If not provided, the run uses memory
of the default actor run configuration.</li><li><strong><code>[timeoutSecs]</code></strong>: <code>number</code> - Timeout for the actor task run in seconds. Zero value means there is no timeout. If not provided, the run uses
timeout of the default actor run configuration.</li><li><strong><code>[build]</code></strong>: <code>string</code> - Tag or number of the actor build to run (e.g. <code>beta</code> or <code>1.2.345</code>). If not provided, the run uses build tag or
number from the default actor run configuration (typically <code>latest</code>).</li><li><strong><code>[waitSecs]</code></strong>: <code>number</code> - Maximum time to wait for the actor task run to finish, in seconds. If the limit is reached, the returned promise
is resolved to a run object that will have status <code>READY</code> or <code>RUNNING</code> and it will not contain the actor run output. If <code>waitSecs</code> is null or
undefined, the function waits for the actor task to finish (default behavior).</li><li><strong><code>[webhooks]</code></strong>: <a href="/sdk/js/docs/1.3/typedefs/adhoc-webhook"><code>Array&lt;AdhocWebhook&gt;</code></a> - Specifies optional webhooks associated with the actor run, which can be
used to receive a notification e.g. when the actor finished or failed, see
<a href="https://docs.apify.com/webhooks/ad-hoc-webhooks" target="_blank" rel="noopener">ad hook webhooks documentation</a> for detailed description.</li></ul></li></ul><p><strong>Returns</strong>:</p><p><a href="/sdk/js/docs/1.3/typedefs/actor-run"><code>Promise&lt;ActorRun&gt;</code></a></p><hr><a name="createproxyconfiguration"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifycreateproxyconfigurationproxyconfigurationoptions"><code>Apify.createProxyConfiguration([proxyConfigurationOptions])</code><a href="#apifycreateproxyconfigurationproxyconfigurationoptions" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Creates a proxy configuration and returns a promise resolving to an instance of the <a href="/sdk/js/docs/1.3/api/proxy-configuration"><code>ProxyConfiguration</code></a> class that is
already initialized.</p><p>Configures connection to a proxy server with the provided options. Proxy servers are used to prevent target websites from blocking your crawlers based
on IP address rate limits or blacklists. Setting proxy configuration in your crawlers automatically configures them to use the selected proxies for
all connections.</p><p>For more details and code examples, see the <a href="/sdk/js/docs/1.3/api/proxy-configuration"><code>ProxyConfiguration</code></a> class.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Returns initialized proxy configuration class</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> proxyConfiguration </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createProxyConfiguration</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">groups</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;GROUP1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;GROUP2&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// List of Apify proxy groups</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">countryCode</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;US&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> crawler </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Apify</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">CheerioCrawler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  proxyConfiguration</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">handlePageFunction</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> proxyInfo </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> usedProxyUrl </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proxyInfo</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">url</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Getting the proxy URL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For compatibility with existing Actor Input UI (Input Schema), this function returns <code>undefined</code> when the following object is passed as
<code>proxyConfigurationOptions</code>.</p><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> useApifyProxy</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Parameters</strong>:</p><ul><li><strong><code>[proxyConfigurationOptions]</code></strong>: <a href="/sdk/js/docs/1.3/typedefs/proxy-configuration-options"><code>ProxyConfigurationOptions</code></a></li></ul><p><strong>Returns</strong>:</p><p><a href="/sdk/js/docs/1.3/api/proxy-configuration"><code>Promise&lt;(ProxyConfiguration|undefined)&gt;</code></a></p><hr><a name="events"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifyevents"><code>Apify.events</code><a href="#apifyevents" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Gets an instance of a Node.js&#x27; <a href="https://nodejs.org/api/events.html#events_class_eventemitter" target="_blank" rel="noopener">EventEmitter</a> class that emits various events from the
SDK or the Apify platform. The event emitter is initialized by calling the <a href="/sdk/js/docs/1.3/api/apify#main"><code>Apify.main()</code></a> function.</p><p><strong>Example usage:</strong></p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">events</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">on</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;cpuInfo&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token parameter">data</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">isCpuOverloaded</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Oh no, the CPU is overloaded!&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The following events are emitted:</p><ul><li><code>cpuInfo</code>: <code>{ &quot;isCpuOverloaded&quot;: Boolean }</code> The event is emitted approximately every second and it indicates whether the actor is using the
maximum of available CPU resources. If that&#x27;s the case, the actor should not add more workload. For example, this event is used by the
<a href="/sdk/js/docs/1.3/api/autoscaled-pool"><code>AutoscaledPool</code></a> class.</li><li><code>migrating</code>: <code>void</code> Emitted when the actor running on the Apify platform is going to be migrated to another worker server soon. You can use it to
persist the state of the actor and gracefully stop your in-progress tasks, so that they are not interrupted by the migration. For example, this is
used by the <a href="/sdk/js/docs/1.3/api/request-list"><code>RequestList</code></a> class.</li><li><code>persistState</code>: <code>{ &quot;isMigrating&quot;: Boolean }</code> Emitted in regular intervals (by default 60 seconds) to notify all components of Apify SDK that it is
time to persist their state, in order to avoid repeating all work when the actor restarts. This event is automatically emitted together with the
<code>migrating</code> event, in which case the <code>isMigrating</code> flag is set to <code>true</code>. Otherwise the flag is <code>false</code>. Note that the <code>persistState</code> event is
provided merely for user convenience, you can achieve the same effect using <code>setInterval()</code> and listening for the <code>migrating</code> event.</li></ul><hr><a name="getenv"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifygetenv"><code>Apify.getEnv()</code><a href="#apifygetenv" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Returns a new <a href="/sdk/js/docs/1.3/typedefs/apify-env"><code>ApifyEnv</code></a> object which contains information parsed from all the <code>APIFY_XXX</code> environment variables.</p><p>For the list of the <code>APIFY_XXX</code> environment variables, see <a href="https://docs.apify.com/actor/run#environment-variables" target="_blank" rel="noopener">Actor documentation</a>. If some of
the variables are not defined or are invalid, the corresponding value in the resulting object will be null.</p><p><strong>Returns</strong>:</p><p><a href="/sdk/js/docs/1.3/typedefs/apify-env"><code>ApifyEnv</code></a></p><hr><a name="getinput"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifygetinput"><code>Apify.getInput()</code><a href="#apifygetinput" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Gets the actor input value from the default <a href="/sdk/js/docs/1.3/api/key-value-store"><code>KeyValueStore</code></a> associated with the current actor run.</p><p>This is just a convenient shortcut for <a href="/sdk/js/docs/1.3/api/key-value-store#getvalue"><code>keyValueStore.getValue(&#x27;INPUT&#x27;)</code></a>. For example, calling the following code:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> input </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getInput</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>is equivalent to:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> store </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">openKeyValueStore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;INPUT&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that the <code>getInput()</code> function does not cache the value read from the key-value store. If you need to use the input multiple times in your actor,
it is far more efficient to read it once and store it locally.</p><p>For more information, see <a href="/sdk/js/docs/1.3/api/apify#openkeyvaluestore"><code>Apify.openKeyValueStore()</code></a> and
<a href="/sdk/js/docs/1.3/api/key-value-store#getvalue"><code>KeyValueStore.getValue()</code></a>.</p><p><strong>Returns</strong>:</p><p><code>Promise&lt;(Object&lt;string, *&gt;|string|Buffer|null)&gt;</code> - Returns a promise that resolves to an object, string or
<a href="https://nodejs.org/api/buffer.html" target="_blank" rel="noopener"><code>Buffer</code></a>, depending on the MIME content type of the record, or <code>null</code> if the record is missing.</p><hr><a name="getmemoryinfo"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifygetmemoryinfo"><code>Apify.getMemoryInfo()</code><a href="#apifygetmemoryinfo" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Returns memory statistics of the process and the system, see <a href="/sdk/js/docs/1.3/typedefs/memory-info"><code>MemoryInfo</code></a>.</p><p>If the process runs inside of Docker, the <code>getMemoryInfo</code> gets container memory limits, otherwise it gets system memory limits.</p><p>Beware that the function is quite inefficient because it spawns a new process. Therefore you shouldn&#x27;t call it too often, like more than once per
second.</p><p><strong>Returns</strong>:</p><p><a href="/sdk/js/docs/1.3/typedefs/memory-info"><code>Promise&lt;MemoryInfo&gt;</code></a></p><hr><a name="getvalue"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifygetvaluekey"><code>Apify.getValue(key)</code><a href="#apifygetvaluekey" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Gets a value from the default <a href="/sdk/js/docs/1.3/api/key-value-store"><code>KeyValueStore</code></a> associated with the current actor run.</p><p>This is just a convenient shortcut for <a href="/sdk/js/docs/1.3/api/key-value-store#getvalue"><code>KeyValueStore.getValue()</code></a>. For example, calling the following code:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;my-key&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>is equivalent to:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> store </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">openKeyValueStore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;my-key&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To store the value to the default key-value store, you can use the <a href="/sdk/js/docs/1.3/api/apify#setvalue"><code>Apify.setValue()</code></a> function.</p><p>For more information, see <a href="/sdk/js/docs/1.3/api/apify#openkeyvaluestore"><code>Apify.openKeyValueStore()</code></a> and
<a href="/sdk/js/docs/1.3/api/key-value-store#getvalue"><code>KeyValueStore.getValue()</code></a>.</p><p><strong>Parameters</strong>:</p><ul><li><strong><code>key</code></strong>: <code>string</code> - Unique record key.</li></ul><p><strong>Returns</strong>:</p><p><code>Promise&lt;(Object&lt;string, *&gt;|string|Buffer|null)&gt;</code> - Returns a promise that resolves to an object, string or
<a href="https://nodejs.org/api/buffer.html" target="_blank" rel="noopener"><code>Buffer</code></a>, depending on the MIME content type of the record, or <code>null</code> if the record is missing.</p><hr><a name="isathome"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifyisathome"><code>Apify.isAtHome()</code><a href="#apifyisathome" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Returns <code>true</code> when code is running on Apify platform and <code>false</code> otherwise (for example locally).</p><p><strong>Returns</strong>:</p><p><code>boolean</code></p><hr><a name="launchplaywright"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifylaunchplaywrightlaunchcontext"><code>Apify.launchPlaywright([launchContext])</code><a href="#apifylaunchplaywrightlaunchcontext" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Launches headless browsers using Playwright pre-configured to work within the Apify platform. The function has the same return value as
<code>browserType.launch()</code>. See <a href="https://playwright.dev/docs/api/class-browsertype" target="_blank" rel="noopener noreferrer"> Playwright documentation</a> for more
details.</p><p>The <code>launchPlaywright()</code> function alters the following Playwright options:</p><ul><li>Passes the setting from the <code>APIFY_HEADLESS</code> environment variable to the <code>headless</code> option, unless it was already defined by the caller or
<code>APIFY_XVFB</code> environment variable is set to <code>1</code>. Note that Apify Actor cloud platform automatically sets <code>APIFY_HEADLESS=1</code> to all running actors.</li><li>Takes the <code>proxyUrl</code> option, validates it and adds it to <code>launchOptions</code> in a proper format. The proxy URL must define a port number and have one
of the following schemes: <code>http://</code>, <code>https://</code>, <code>socks4://</code> or <code>socks5://</code>. If the proxy is HTTP (i.e. has the <code>http://</code> scheme) and contains
username or password, the <code>launchPlaywright</code> functions sets up an anonymous proxy HTTP to make the proxy work with headless Chrome. For more
information, read the<a href="https://blog.apify.com/how-to-make-headless-chrome-and-puppeteer-use-a-proxy-server-with-authentication-249a21a79212" target="_blank" rel="noopener noreferrer">blog post about proxy-chain library</a>.</li></ul><p>To use this function, you need to have the <a href="https://www.npmjs.com/package/playwright" target="_blank" rel="noopener">Playwright</a> NPM package installed in your project. When running
on the Apify Platform, you can achieve that simply by using the <code>apify/actor-node-playwright-*</code> base Docker image for your actor - see
<a href="https://docs.apify.com/actor/build#base-images" target="_blank" rel="noopener">Apify Actor documentation</a> for details.</p><p><strong>Parameters</strong>:</p><ul><li><strong><code>[launchContext]</code></strong>: <a href="/sdk/js/docs/1.3/typedefs/playwright-launch-context"><code>PlaywrightLaunchContext</code></a> - Optional settings passed to <code>browserType.launch()</code>. In
addition to <a href="https://playwright.dev/docs/api/class-browsertype?_highlight=launch#browsertypelaunchoptions" target="_blank" rel="noopener">Playwright&#x27;s options</a> the object may
contain our own <a href="/sdk/js/docs/1.3/typedefs/playwright-launch-context"><code>PlaywrightLaunchContext</code></a> that enable additional features.</li></ul><p><strong>Returns</strong>:</p><p><code>Promise&lt;*&gt;</code> - Promise that resolves to Playwright&#x27;s <code>Browser</code> instance.</p><hr><a name="launchpuppeteer"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifylaunchpuppeteerlaunchcontext"><code>Apify.launchPuppeteer([launchContext])</code><a href="#apifylaunchpuppeteerlaunchcontext" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Launches headless Chrome using Puppeteer pre-configured to work within the Apify platform. The function has the same argument and the return value as
<code>puppeteer.launch()</code>. See <a href="https://github.com/puppeteer/puppeteer/blob/master/docs/api.md#puppeteerlaunchoptions" target="_blank" rel="noopener noreferrer"> Puppeteer
documentation</a> for more details.</p><p>The <code>launchPuppeteer()</code> function alters the following Puppeteer options:</p><ul><li>Passes the setting from the <code>APIFY_HEADLESS</code> environment variable to the <code>headless</code> option, unless it was already defined by the caller or
<code>APIFY_XVFB</code> environment variable is set to <code>1</code>. Note that Apify Actor cloud platform automatically sets <code>APIFY_HEADLESS=1</code> to all running actors.</li><li>Takes the <code>proxyUrl</code> option, validates it and adds it to <code>args</code> as <code>--proxy-server=XXX</code>. The proxy URL must define a port number and have one of
the following schemes: <code>http://</code>, <code>https://</code>, <code>socks4://</code> or <code>socks5://</code>. If the proxy is HTTP (i.e. has the <code>http://</code> scheme) and contains
username or password, the <code>launchPuppeteer</code> functions sets up an anonymous proxy HTTP to make the proxy work with headless Chrome. For more
information, read the<a href="https://blog.apify.com/how-to-make-headless-chrome-and-puppeteer-use-a-proxy-server-with-authentication-249a21a79212" target="_blank" rel="noopener noreferrer">blog post about proxy-chain library</a>.</li></ul><p>To use this function, you need to have the <a href="https://www.npmjs.com/package/puppeteer" target="_blank" rel="noopener">puppeteer</a> NPM package installed in your project. When running on
the Apify cloud, you can achieve that simply by using the <code>apify/actor-node-chrome</code> base Docker image for your actor - see
<a href="https://docs.apify.com/actor/build#base-images" target="_blank" rel="noopener">Apify Actor documentation</a> for details.</p><p>For an example of usage, see the <a href="/sdk/js/docs/1.3/examples/synchronous-run">Synchronous run Example</a> or the
<a href="/sdk/js/docs/1.3/examples/puppeteer-with-proxy">Puppeteer proxy Example</a></p><p><strong>Parameters</strong>:</p><ul><li><strong><code>[launchContext]</code></strong>: <a href="/sdk/js/docs/1.3/typedefs/puppeteer-launch-context"><code>PuppeteerLaunchContext</code></a> - All <code>PuppeteerLauncher</code> parameters are passed via an
launchContext object. If you want to pass custom <code>puppeteer.launch(options)</code> options you can use the <code>PuppeteerLaunchContext.launchOptions</code>
property.</li></ul><p><strong>Returns</strong>:</p><p><code>Promise&lt;*&gt;</code> - Promise that resolves to Puppeteer&#x27;s <code>Browser</code> instance.</p><hr><a name="main"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifymainuserfunc"><code>Apify.main(userFunc)</code><a href="#apifymainuserfunc" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Runs the main user function that performs the job of the actor and terminates the process when the user function finishes.</p><p><strong>The <code>Apify.main()</code> function is optional</strong> and is provided merely for your convenience. It is mainly useful when you&#x27;re running your code as an actor
on the <a href="https://apify.com/actors" target="_blank" rel="noopener">Apify platform</a>. However, if you want to use Apify SDK tools directly inside your existing projects, e.g. running in
an <a href="https://expressjs.com/" target="_blank" rel="noopener">Express</a> server, on <a href="https://cloud.google.com/functions" target="_blank" rel="noopener">Google Cloud functions</a> or
<a href="https://aws.amazon.com/lambda/" target="_blank" rel="noopener">AWS Lambda</a>, it&#x27;s better to avoid it since the function terminates the main process when it finishes!</p><p>The <code>Apify.main()</code> function performs the following actions:</p><ul><li>When running on the Apify platform (i.e. <code>APIFY_IS_AT_HOME</code> environment variable is set), it sets up a connection to listen for
platform events. For example, to get a notification about an imminent migration to another server. See <a href="/sdk/js/docs/1.3/api/apify#events"><code>Apify.events</code></a> for
details.</li><li>It checks that either <code>APIFY_TOKEN</code> or <code>APIFY_LOCAL_STORAGE_DIR</code> environment variable is defined. If not, the functions sets<code>APIFY_LOCAL_STORAGE_DIR</code> to <code>./apify_storage</code> inside the current working directory. This is to simplify running code examples.</li><li>It invokes the user function passed as the <code>userFunc</code> parameter.</li><li>If the user function returned a promise, waits for it to resolve.</li><li>If the user function throws an exception or some other error is encountered, prints error details to console so that they are stored to the log.</li><li>Exits the Node.js process, with zero exit code on success and non-zero on errors.</li></ul><p>The user function can be synchronous:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// My synchronous function that returns immediately</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Hello world from actor!&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If the user function returns a promise, it is considered asynchronous:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> requestAsBrowser </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;some-request-library&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// My asynchronous function that returns a promise</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;http://www.example.com&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">html</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">html</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To simplify your code, you can take advantage of the <code>async</code>/<code>await</code> keywords:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> request </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;some-request-library&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// My asynchronous function</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> html </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">request</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;http://www.example.com&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">html</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Parameters</strong>:</p><ul><li><strong><code>userFunc</code></strong>: <a href="/sdk/js/docs/1.3/typedefs/user-func"><code>UserFunc</code></a> - User function to be executed. If it returns a promise, the promise will be awaited. The user
function is called with no arguments.</li></ul><hr><a name="metamorph"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifymetamorphtargetactorid-input-options"><code>Apify.metamorph(targetActorId, [input], [options])</code><a href="#apifymetamorphtargetactorid-input-options" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Transforms this actor run to an actor run of a given actor. The system stops the current container and starts the new container instead. All the
default storages are preserved and the new input is stored under the <code>INPUT-METAMORPH-1</code> key in the same default key-value store.</p><p><strong>Parameters</strong>:</p><ul><li><strong><code>targetActorId</code></strong>: <code>string</code> - Either <code>username/actor-name</code> or actor ID of an actor to which we want to metamorph.</li><li><strong><code>[input]</code></strong>: <code>Object&lt;string, *&gt;</code> - Input for the actor. If it is an object, it will be stringified to JSON and its content type set to
<code>application/json; charset=utf-8</code>. Otherwise the <code>options.contentType</code> parameter must be provided.</li><li><strong><code>[options]</code></strong>: <code>object</code> - Object with the settings below:<ul><li><strong><code>[contentType]</code></strong>: <code>string</code> - Content type for the <code>input</code>. If not specified, <code>input</code> is expected to be an object that will be stringified
to JSON and content type set to <code>application/json; charset=utf-8</code>. If <code>options.contentType</code> is specified, then <code>input</code> must be a <code>String</code> or
<code>Buffer</code>.</li><li><strong><code>[build]</code></strong>: <code>string</code> - Tag or number of the target actor build to metamorph into (e.g. <code>beta</code> or <code>1.2.345</code>). If not provided, the run uses
build tag or number from the default actor run configuration (typically <code>latest</code>).</li></ul></li></ul><p><strong>Returns</strong>:</p><p><code>Promise&lt;void&gt;</code></p><hr><a name="newclient"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifynewclientoptions"><code>Apify.newClient([options])</code><a href="#apifynewclientoptions" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Returns a new instance of the Apify API client. The <code>ApifyClient</code> class is provided by the</p><a href="https://www.npmjs.com/package/apify-client" target="_blank" rel="noopener noreferrer">apify-client</a> NPM package, and it is automatically configured using the `APIFY_API_BASE_URL`, and `APIFY_TOKEN` environment variables. You can override the token via the available options. That&#x27;s useful if you want to use the client as a different Apify user than the SDK internals are using.<p><strong>Parameters</strong>:</p><ul><li><strong><code>[options]</code></strong>: <code>object</code><ul><li><strong><code>[token]</code></strong>: <code>string</code></li><li><strong><code>[maxRetries]</code></strong>: <code>string</code></li><li><strong><code>[minDelayBetweenRetriesMillis]</code></strong>: <code>string</code></li></ul></li></ul><p><strong>Returns</strong>:</p><p><a href="/sdk/js/docs/1.3/api/apify"><code>ApifyClient</code></a></p><hr><a name="opendataset"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifyopendatasetdatasetidorname-options"><code>Apify.openDataset([datasetIdOrName], [options])</code><a href="#apifyopendatasetdatasetidorname-options" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Opens a dataset and returns a promise resolving to an instance of the <a href="/sdk/js/docs/1.3/api/dataset"><code>Dataset</code></a> class.</p><p>Datasets are used to store structured data where each object stored has the same attributes, such as online store products or real estate offers. The
actual data is stored either on the local filesystem or in the cloud.</p><p>For more details and code examples, see the <a href="/sdk/js/docs/1.3/api/dataset"><code>Dataset</code></a> class.</p><p><strong>Parameters</strong>:</p><ul><li><strong><code>[datasetIdOrName]</code></strong>: <code>string</code> - ID or name of the dataset to be opened. If <code>null</code> or <code>undefined</code>, the function returns the default dataset
associated with the actor run.</li><li><strong><code>[options]</code></strong>: <code>Object</code><ul><li><strong><code>[forceCloud]</code></strong>: <code>boolean</code> <code> = false</code> - If set to <code>true</code> then the function uses cloud storage usage even if the
<code>APIFY_LOCAL_STORAGE_DIR</code> environment variable is set. This way it is possible to combine local and cloud storage.</li></ul></li></ul><p><strong>Returns</strong>:</p><p><a href="/sdk/js/docs/1.3/api/dataset"><code>Promise&lt;Dataset&gt;</code></a></p><hr><a name="openkeyvaluestore"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifyopenkeyvaluestorestoreidorname-options"><code>Apify.openKeyValueStore([storeIdOrName], [options])</code><a href="#apifyopenkeyvaluestorestoreidorname-options" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Opens a key-value store and returns a promise resolving to an instance of the <a href="/sdk/js/docs/1.3/api/key-value-store"><code>KeyValueStore</code></a> class.</p><p>Key-value stores are used to store records or files, along with their MIME content type. The records are stored and retrieved using a unique key. The
actual data is stored either on a local filesystem or in the Apify cloud.</p><p>For more details and code examples, see the <a href="/sdk/js/docs/1.3/api/key-value-store"><code>KeyValueStore</code></a> class.</p><p><strong>Parameters</strong>:</p><ul><li><strong><code>[storeIdOrName]</code></strong>: <code>string</code> - ID or name of the key-value store to be opened. If <code>null</code> or <code>undefined</code>, the function returns the default
key-value store associated with the actor run.</li><li><strong><code>[options]</code></strong>: <code>object</code><ul><li><strong><code>[forceCloud]</code></strong>: <code>boolean</code> <code> = false</code> - If set to <code>true</code> then the function uses cloud storage usage even if the
<code>APIFY_LOCAL_STORAGE_DIR</code> environment variable is set. This way it is possible to combine local and cloud storage.</li></ul></li></ul><p><strong>Returns</strong>:</p><p><a href="/sdk/js/docs/1.3/api/key-value-store"><code>Promise&lt;KeyValueStore&gt;</code></a></p><hr><a name="openrequestlist"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifyopenrequestlistlistname-sources-options"><code>Apify.openRequestList(listName, sources, [options])</code><a href="#apifyopenrequestlistlistname-sources-options" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Opens a request list and returns a promise resolving to an instance of the <a href="/sdk/js/docs/1.3/api/request-list"><code>RequestList</code></a> class that is already initialized.</p><p><a href="/sdk/js/docs/1.3/api/request-list"><code>RequestList</code></a> represents a list of URLs to crawl, which is always stored in memory. To enable picking up where left off after a
process restart, the request list sources are persisted to the key-value store at initialization of the list. Then, while crawling, a small state
object is regularly persisted to keep track of the crawling status.</p><p>For more details and code examples, see the <a href="/sdk/js/docs/1.3/api/request-list"><code>RequestList</code></a> class.</p><p><strong>Example usage:</strong></p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> sources </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;https://www.example.com&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://www.google.com&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://www.bing.com&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> requestList </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">openRequestList</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;my-name&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sources</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>Parameters</strong>:</p><ul><li><p><strong><code>listName</code></strong>: <code>string</code> | <code>null</code> - Name of the request list to be opened. Setting a name enables the <code>RequestList</code>&#x27;s state to be persisted in the
key-value store. This is useful in case of a restart or migration. Since <code>RequestList</code> is only stored in memory, a restart or migration wipes it
clean. Setting a name will enable the <code>RequestList</code>&#x27;s state to survive those situations and continue where it left off.</p><p>The name will be used as a prefix in key-value store, producing keys such as <code>NAME-REQUEST_LIST_STATE</code> and <code>NAME-REQUEST_LIST_SOURCES</code>.</p><p>If <code>null</code>, the list will not be persisted and will only be stored in memory. Process restart will then cause the list to be crawled again from the
beginning. We suggest always using a name.</p></li><li><p><strong><code>sources</code></strong>: <a href="/sdk/js/docs/1.3/typedefs/request-options"><code>Array&lt;(RequestOptions|Request|string)&gt;</code></a> - An array of sources of URLs for the
<a href="/sdk/js/docs/1.3/api/request-list"><code>RequestList</code></a>. It can be either an array of strings, plain objects that define at least the <code>url</code> property, or an array of
<a href="/sdk/js/docs/1.3/api/request"><code>Request</code></a> instances.</p><p><strong>IMPORTANT:</strong> The <code>sources</code> array will be consumed (left empty) after <a href="/sdk/js/docs/1.3/api/request-list"><code>RequestList</code></a> initializes. This is a measure to
prevent memory leaks in situations when millions of sources are added.</p></li></ul><p>Additionally, the <code>requestsFromUrl</code> property may be used instead of <code>url</code>, which will instruct <a href="/sdk/js/docs/1.3/api/request-list"><code>RequestList</code></a> to download the
source URLs from a given remote location. The URLs will be parsed from the received response. In this case you can limit the URLs using <code>regex</code>
parameter containing regular expression pattern for URLs to be included.</p><p>For details, see the <a href="/sdk/js/docs/1.3/typedefs/request-list-options#sources"><code>RequestListOptions.sources</code></a></p><ul><li><strong><code>[options]</code></strong>: <a href="/sdk/js/docs/1.3/typedefs/request-list-options"><code>RequestListOptions</code></a> - The <a href="/sdk/js/docs/1.3/api/request-list"><code>RequestList</code></a> options. Note that the
<code>listName</code> parameter supersedes the <a href="/sdk/js/docs/1.3/typedefs/request-list-options#persiststatekey"><code>RequestListOptions.persistStateKey</code></a> and
<a href="/sdk/js/docs/1.3/typedefs/request-list-options#persistrequestskey"><code>RequestListOptions.persistRequestsKey</code></a> options and the <code>sources</code> parameter supersedes the
<a href="/sdk/js/docs/1.3/typedefs/request-list-options#sources"><code>RequestListOptions.sources</code></a> option.</li></ul><p><strong>Returns</strong>:</p><p><a href="/sdk/js/docs/1.3/api/request-list"><code>Promise&lt;RequestList&gt;</code></a></p><hr><a name="openrequestqueue"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifyopenrequestqueuequeueidorname-options"><code>Apify.openRequestQueue([queueIdOrName], [options])</code><a href="#apifyopenrequestqueuequeueidorname-options" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Opens a request queue and returns a promise resolving to an instance of the <a href="/sdk/js/docs/1.3/api/request-queue"><code>RequestQueue</code></a> class.</p><p><a href="/sdk/js/docs/1.3/api/request-queue"><code>RequestQueue</code></a> represents a queue of URLs to crawl, which is stored either on local filesystem or in the cloud. The queue is
used for deep crawling of websites, where you start with several URLs and then recursively follow links to other pages. The data structure supports
both breadth-first and depth-first crawling orders.</p><p>For more details and code examples, see the <a href="/sdk/js/docs/1.3/api/request-queue"><code>RequestQueue</code></a> class.</p><p><strong>Parameters</strong>:</p><ul><li><strong><code>[queueIdOrName]</code></strong>: <code>string</code> - ID or name of the request queue to be opened. If <code>null</code> or <code>undefined</code>, the function returns the default request
queue associated with the actor run.</li><li><strong><code>[options]</code></strong>: <code>object</code><ul><li><strong><code>[forceCloud]</code></strong>: <code>boolean</code> <code> = false</code> - If set to <code>true</code> then the function uses cloud storage usage even if the
<code>APIFY_LOCAL_STORAGE_DIR</code> environment variable is set. This way it is possible to combine local and cloud storage.</li></ul></li></ul><p><strong>Returns</strong>:</p><p><a href="/sdk/js/docs/1.3/api/request-queue"><code>Promise&lt;RequestQueue&gt;</code></a></p><hr><a name="opensessionpool"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifyopensessionpoolsessionpooloptions"><code>Apify.openSessionPool(sessionPoolOptions)</code><a href="#apifyopensessionpoolsessionpooloptions" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Opens a SessionPool and returns a promise resolving to an instance of the <a href="/sdk/js/docs/1.3/api/session-pool"><code>SessionPool</code></a> class that is already initialized.</p><p>For more details and code examples, see the <a href="/sdk/js/docs/1.3/api/session-pool"><code>SessionPool</code></a> class.</p><p><strong>Parameters</strong>:</p><ul><li><strong><code>sessionPoolOptions</code></strong>: <a href="/sdk/js/docs/1.3/typedefs/session-pool-options"><code>SessionPoolOptions</code></a></li></ul><p><strong>Returns</strong>:</p><p><a href="/sdk/js/docs/1.3/api/session-pool"><code>Promise&lt;SessionPool&gt;</code></a></p><hr><a name="pushdata"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifypushdataitem"><code>Apify.pushData(item)</code><a href="#apifypushdataitem" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Stores an object or an array of objects to the default <a href="/sdk/js/docs/1.3/api/dataset"><code>Dataset</code></a> of the current actor run.</p><p>This is just a convenient shortcut for <a href="/sdk/js/docs/1.3/api/dataset#pushdata"><code>Dataset.pushData()</code></a>. For example, calling the following code:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pushData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">myValue</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>is equivalent to:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> dataset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">openDataset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> dataset</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pushData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">myValue</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">123</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For more information, see <a href="/sdk/js/docs/1.3/api/apify#opendataset"><code>Apify.openDataset()</code></a> and <a href="/sdk/js/docs/1.3/api/dataset#pushdata"><code>Dataset.pushData()</code></a></p><p><strong>IMPORTANT</strong>: Make sure to use the <code>await</code> keyword when calling <code>pushData()</code>, otherwise the actor process might finish before the data are stored!</p><p><strong>Parameters</strong>:</p><ul><li><strong><code>item</code></strong>: <code>object</code> - Object or array of objects containing data to be stored in the default dataset. The objects must be serializable to JSON
and the JSON representation of each object must be smaller than 9MB.</li></ul><p><strong>Returns</strong>:</p><p><code>Promise&lt;void&gt;</code></p><hr><a name="setvalue"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apifysetvaluekey-value-options"><code>Apify.setValue(key, value, [options])</code><a href="#apifysetvaluekey-value-options" class="hash-link" aria-label="Direct link to heading" title="Direct link to heading">​</a></h2><p>Stores or deletes a value in the default <a href="/sdk/js/docs/1.3/api/key-value-store"><code>KeyValueStore</code></a> associated with the current actor run.</p><p>This is just a convenient shortcut for <a href="/sdk/js/docs/1.3/api/key-value-store#setvalue"><code>KeyValueStore.setValue()</code></a>. For example, calling the following code:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;OUTPUT&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">foo</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bar&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>is equivalent to:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> store </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token maybe-class-name">Apify</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">openKeyValueStore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;OUTPUT&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">foo</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bar&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To get a value from the default key-value store, you can use the <a href="/sdk/js/docs/1.3/api/apify#getvalue"><code>Apify.getValue()</code></a> function.</p><p>For more information, see <a href="/sdk/js/docs/1.3/api/apify#openkeyvaluestore"><code>Apify.openKeyValueStore()</code></a> and
<a href="/sdk/js/docs/1.3/api/key-value-store#getvalue"><code>KeyValueStore.getValue()</code></a>.</p><p><strong>Parameters</strong>:</p><ul><li><strong><code>key</code></strong>: <code>string</code> - Unique record key.</li><li><strong><code>value</code></strong>: <code>*</code> - Record data, which can be one of the following values:<ul><li>If <code>null</code>, the record in the key-value store is deleted.</li><li>If no <code>options.contentType</code> is specified, <code>value</code> can be any JavaScript object and it will be stringified to JSON.</li><li>If <code>options.contentType</code> is set, <code>value</code> is taken as is and it must be a <code>String</code> or <a href="https://nodejs.org/api/buffer.html" target="_blank" rel="noopener"><code>Buffer</code></a>. For any
other value an error will be thrown.</li></ul></li><li><strong><code>[options]</code></strong>: <code>object</code><ul><li><strong><code>[contentType]</code></strong>: <code>string</code> - Specifies a custom MIME content type of the record.</li></ul></li></ul><p><strong>Returns</strong>:</p><p><code>Promise&lt;void&gt;</code></p><hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-05-25T15:11:10.000Z">May 25, 2023</time></b> by <b>František Nesveda</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/sdk/js/docs/1.3/examples/use-stealth-mode"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Use stealth mode</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/sdk/js/docs/1.3/api/configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#apify-class" class="table-of-contents__link toc-highlight"><code>Apify</code> Class</a></li><li><a href="#apifyaddwebhookoptions" class="table-of-contents__link toc-highlight"><code>Apify.addWebhook(options)</code></a></li><li><a href="#apifycallactid-input-options" class="table-of-contents__link toc-highlight"><code>Apify.call(actId, [input], [options])</code></a></li><li><a href="#apifycalltasktaskid-input-options" class="table-of-contents__link toc-highlight"><code>Apify.callTask(taskId, [input], [options])</code></a></li><li><a href="#apifycreateproxyconfigurationproxyconfigurationoptions" class="table-of-contents__link toc-highlight"><code>Apify.createProxyConfiguration([proxyConfigurationOptions])</code></a></li><li><a href="#apifyevents" class="table-of-contents__link toc-highlight"><code>Apify.events</code></a></li><li><a href="#apifygetenv" class="table-of-contents__link toc-highlight"><code>Apify.getEnv()</code></a></li><li><a href="#apifygetinput" class="table-of-contents__link toc-highlight"><code>Apify.getInput()</code></a></li><li><a href="#apifygetmemoryinfo" class="table-of-contents__link toc-highlight"><code>Apify.getMemoryInfo()</code></a></li><li><a href="#apifygetvaluekey" class="table-of-contents__link toc-highlight"><code>Apify.getValue(key)</code></a></li><li><a href="#apifyisathome" class="table-of-contents__link toc-highlight"><code>Apify.isAtHome()</code></a></li><li><a href="#apifylaunchplaywrightlaunchcontext" class="table-of-contents__link toc-highlight"><code>Apify.launchPlaywright([launchContext])</code></a></li><li><a href="#apifylaunchpuppeteerlaunchcontext" class="table-of-contents__link toc-highlight"><code>Apify.launchPuppeteer([launchContext])</code></a></li><li><a href="#apifymainuserfunc" class="table-of-contents__link toc-highlight"><code>Apify.main(userFunc)</code></a></li><li><a href="#apifymetamorphtargetactorid-input-options" class="table-of-contents__link toc-highlight"><code>Apify.metamorph(targetActorId, [input], [options])</code></a></li><li><a href="#apifynewclientoptions" class="table-of-contents__link toc-highlight"><code>Apify.newClient([options])</code></a></li><li><a href="#apifyopendatasetdatasetidorname-options" class="table-of-contents__link toc-highlight"><code>Apify.openDataset([datasetIdOrName], [options])</code></a></li><li><a href="#apifyopenkeyvaluestorestoreidorname-options" class="table-of-contents__link toc-highlight"><code>Apify.openKeyValueStore([storeIdOrName], [options])</code></a></li><li><a href="#apifyopenrequestlistlistname-sources-options" class="table-of-contents__link toc-highlight"><code>Apify.openRequestList(listName, sources, [options])</code></a></li><li><a href="#apifyopenrequestqueuequeueidorname-options" class="table-of-contents__link toc-highlight"><code>Apify.openRequestQueue([queueIdOrName], [options])</code></a></li><li><a href="#apifyopensessionpoolsessionpooloptions" class="table-of-contents__link toc-highlight"><code>Apify.openSessionPool(sessionPoolOptions)</code></a></li><li><a href="#apifypushdataitem" class="table-of-contents__link toc-highlight"><code>Apify.pushData(item)</code></a></li><li><a href="#apifysetvaluekey-value-options" class="table-of-contents__link toc-highlight"><code>Apify.setValue(key, value, [options])</code></a></li></ul></div></div></div></div></main></div></div><footer class="footer_stxo light"><div class="container padding-horiz--lg"><div class="row" style="justify-content:space-between"><div class="col col--2"><div class="footerTitle_lK2o">Learn</div><ul class="clean-list"><li class="footer__item"><a href="https://docs.apify.com/academy" target="_self" rel="dofollow" class="footer__link-item">Academy</a></li><li class="footer__item"><a href="https://docs.apify.com/platform" target="_self" rel="dofollow" class="footer__link-item">Platform</a></li></ul></div><div class="col col--2"><div class="footerTitle_lK2o">API</div><ul class="clean-list"><li class="footer__item"><a href="https://docs.apify.com/api/v2/" target="_self" rel="dofollow" class="footer__link-item">Reference</a></li><li class="footer__item"><a href="https://docs.apify.com/api/client/js/" target="_self" rel="dofollow" class="footer__link-item">Client for JavaScript</a></li><li class="footer__item"><a href="https://docs.apify.com/api/client/python/" target="_self" rel="dofollow" class="footer__link-item">Client for Python</a></li></ul></div><div class="col col--2"><div class="footerTitle_lK2o">SDK</div><ul class="clean-list"><li class="footer__item"><a href="https://docs.apify.com/sdk/js/" target="_self" rel="dofollow" class="footer__link-item">SDK for JavaScript</a></li><li class="footer__item"><a href="https://docs.apify.com/sdk/python/" target="_self" rel="dofollow" class="footer__link-item">SDK for Python</a></li></ul></div><div class="col col--2"><div class="footerTitle_lK2o">Other</div><ul class="clean-list"><li class="footer__item"><a href="https://docs.apify.com/cli/" target="_self" rel="dofollow" class="footer__link-item" position="left">CLI</a></li></ul></div><div class="col col--2"><div class="footerTitle_lK2o">More</div><ul class="clean-list"><li class="footer__item"><a href="https://crawlee.dev" target="_blank" rel="dofollow" class="footer__link-item">Crawlee</a></li><li class="footer__item"><a href="https://github.com/apify" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="row padding-vert--md padding-top--lg"><div class="col padding-vert--md col--6"><a href="https://apify.com" target="_blank" rel="dofollow noreferrer"><span class="footerLogo_pNWh"></span></a></div></div></div></footer></div></div>
<script src="/sdk/js/assets/js/runtime~main.3ba61b57.js"></script>
<script src="/sdk/js/assets/js/main.7ae77ce8.js"></script>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MNGXGGB" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>