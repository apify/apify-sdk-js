"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4195],{99878:(e,t,n)=>{n.d(t,{Z:()=>d});var a=n(67294),l=n(34334),r=n(18015),o=n(11614);const i={admonition:"admonition_LlT9",admonitionHeading:"admonitionHeading_tbUL",admonitionIcon:"admonitionIcon_kALy",admonitionContent:"admonitionContent_S0QG"};var c={note:{infimaClassName:"secondary",iconComponent:function(){return a.createElement("svg",{viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))},label:a.createElement(o.Z,{id:"theme.admonition.note",description:"The default label used for the Note admonition (:::note)"},"note")},tip:{infimaClassName:"success",iconComponent:function(){return a.createElement("svg",{viewBox:"0 0 12 16"},a.createElement("path",{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))},label:a.createElement(o.Z,{id:"theme.admonition.tip",description:"The default label used for the Tip admonition (:::tip)"},"tip")},danger:{infimaClassName:"danger",iconComponent:function(){return a.createElement("svg",{viewBox:"0 0 12 16"},a.createElement("path",{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))},label:a.createElement(o.Z,{id:"theme.admonition.danger",description:"The default label used for the Danger admonition (:::danger)"},"danger")},info:{infimaClassName:"info",iconComponent:function(){return a.createElement("svg",{viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))},label:a.createElement(o.Z,{id:"theme.admonition.info",description:"The default label used for the Info admonition (:::info)"},"info")},caution:{infimaClassName:"warning",iconComponent:function(){return a.createElement("svg",{viewBox:"0 0 16 16"},a.createElement("path",{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))},label:a.createElement(o.Z,{id:"theme.admonition.caution",description:"The default label used for the Caution admonition (:::caution)"},"caution")}},s={secondary:"note",important:"info",success:"tip",warning:"danger"};function m(e){var t,n=function(e){var t=a.Children.toArray(e),n=t.find((function(e){var t;return a.isValidElement(e)&&"mdxAdmonitionTitle"===(null==(t=e.props)?void 0:t.mdxType)})),l=a.createElement(a.Fragment,null,t.filter((function(e){return e!==n})));return{mdxAdmonitionTitle:n,rest:l}}(e.children),l=n.mdxAdmonitionTitle,r=n.rest;return Object.assign({},e,{title:null!=(t=e.title)?t:l,children:r})}function d(e){var t=m(e),n=t.children,o=t.type,d=t.title,u=t.icon,p=function(e){var t,n=null!=(t=s[e])?t:e,a=c[n];return a||(console.warn('No admonition config found for admonition type "'+n+'". Using Info as fallback.'),c.info)}(o),f=null!=d?d:p.label,h=p.iconComponent,g=null!=u?u:a.createElement(h,null);return a.createElement("div",{className:(0,l.Z)(r.k.common.admonition,r.k.common.admonitionType(e.type),"alert","alert--"+p.infimaClassName,i.admonition)},a.createElement("div",{className:i.admonitionHeading},a.createElement("span",{className:i.admonitionIcon},g),f),a.createElement("div",{className:i.admonitionContent},n))}},39738:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var a=n(67294),l=n(90512),r=n(99878),o=n(64153),i=n(88746),c=n(14563),s=n(47002),m=n(6832),d=n(51402),u=n(11207);function p(){return a.createElement("header",{className:(0,l.Z)("container",u.Z.heroBanner)},a.createElement("div",{className:"row padding-horiz--md"},a.createElement("div",{className:"col col--7"},a.createElement("div",{className:(0,l.Z)(u.Z.relative,"row")},a.createElement("div",{className:"col"},a.createElement("h1",{className:u.Z.tagline},"Apify SDK for JavaScript and Node.js"),a.createElement("h1",{className:u.Z.tagline},a.createElement("span",null,"Apify SDK")," for ",a.createElement("span",null,"JavaScript")," and ",a.createElement("span",null,"Node.js")))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("h2",null,"Toolkit for building ",a.createElement("a",{href:"https://docs.apify.com/actors"},"Actors"),"\u2014serverless microservices running (not only) on the Apify platform."))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("div",{className:u.Z.heroButtons},a.createElement(i.default,{to:"docs/guides/apify-platform",className:u.Z.getStarted},"Get started"),a.createElement("iframe",{src:"https://ghbtns.com/github-btn.html?user=apify&repo=apify-sdk-js&type=star&count=true&size=large",frameBorder:"0",scrolling:"0",width:"170",height:"30",title:"GitHub"}))))),a.createElement("div",{className:(0,l.Z)(u.Z.relative,"col","col--5")},a.createElement("div",{className:u.Z.logoBlur},a.createElement("img",{src:(0,d.Z)("/img/logo-blur.png"),className:(0,l.Z)(u.Z.hideSmall)})),a.createElement("div",{className:u.Z.codeBlock},a.createElement(c.Z,{className:"language-bash"},"npx apify-cli create my-crawler")))))}function f(){return a.createElement("section",{className:(0,l.Z)("container",u.Z.features)},a.createElement("div",{className:"row"},a.createElement("div",{className:"col text--center"},a.createElement("h2",null,"Apify SDK v3 is out \ud83d\ude80",a.createElement("br",null)," What's new? Read below \ud83d\udc47"))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col col--6"},a.createElement("p",null,"Four years ago, Apify released its ",a.createElement("b",null,"open-source Node.js")," library for web scraping and automation, ",a.createElement("b",null,"Apify SDK"),". It became popular among the community, but there was a problem. Despite being open-source, ",a.createElement("b",null,"the library's name caused users to think its features were restricted to the Apify platform"),", which was never the case."),a.createElement("p",null,"With this in mind, we decided to split Apify SDK into two libraries,",a.createElement("a",{href:"https://crawlee.dev",target:"_blank",rel:"noreferrer"},a.createElement("b",null," Crawlee"))," and ",a.createElement("b",null,"Apify SDK v3"),".",a.createElement("b",null," Crawlee")," will retain all the ",a.createElement("b",null,"crawling and scraping-related tools "),"and will always strive to be the best web scraping library for its community. At the same time, ",a.createElement("b",null,"Apify SDK")," will continue to exist, but keep only the Apify-specific features related to ",a.createElement("b",null,"building actors")," on the ",a.createElement("a",{href:"https://apify.com",target:"_blank",rel:"noreferrer"}," ",a.createElement("b",null,"Apify platform")),".")),a.createElement("div",{className:"col col--6 text--center"},a.createElement(s.Z,{sources:{light:(0,d.Z)("/img/sdk-split-light.png"),dark:(0,d.Z)("/img/sdk-split-dark.png")},className:(0,l.Z)(u.Z.hideSmall)}))))}var h="// Apify SDK v3 uses named exports instead of the Apify object.\n// You can import Dataset, KeyValueStore and more.\nimport { Actor } from 'apify';\n// We moved all the crawling components to Crawlee.\n// See the documentation on https://crawlee.dev\nimport { PlaywrightCrawler } from 'crawlee';\n\n// Initialize the actor on the platform. This function connects your\n// actor to platform events, storages and API. It replaces Apify.main()\nawait Actor.init();\n\nconst crawler = new PlaywrightCrawler({\n    // handle(Page|Request)Functions of all Crawlers\n    // are now simply called a requestHandler.\n    async requestHandler({ request, page, enqueueLinks }) {\n        const title = await page.title();\n        console.log(`Title of ${request.loadedUrl} is '${title}'`);\n\n        // Use Actor instead of the Apify object to save data.\n        await Actor.pushData({ title, url: request.loadedUrl });\n\n        // We simplified enqueuing links a lot, see the docs.\n        // This way the function adds only links to same hostname.\n        await enqueueLinks();\n    }\n});\n\n// You can now add requests to the queue directly from the run function.\n// No need to create an instance of the queue separately.\nawait crawler.run(['https://crawlee.dev']);\n\n// This function disconnects the actor from the platform\n// and optionally sends an exit message.\nawait Actor.exit();\n",g="import { Actor } from 'apify';\n\n// Initialize the actor on the platform. This function connects your\n// actor to platform events, storages and API. It replaces Apify.main()\nawait Actor.init();\n\nconst input = await Actor.getInput()\n\n// Do something with the input in your own code.\nconst output = await magicallyCreateOutput(input)\n\nawait Actor.setValue('my-output', output);\n\n// This function disconnects the actor from the platform\n// and optionally sends an exit message.\nawait Actor.exit();\n";function E(){return a.createElement("section",{className:(0,l.Z)(u.Z.try,"container")},a.createElement("h2",{className:"text--center"},"How it works now"),a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("h3",null,"Outside of the Apify platform"))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col col--6"},a.createElement("p",null,"If you want to use the ",a.createElement("b",null,"crawling functionality")," of Apify SDK v2 outside of the Apify platform, head to ",a.createElement("a",{href:"https://crawlee.dev",target:"_blank",rel:"noreferrer"},a.createElement("b",null," Crawlee documentation"))," to get started. The interface is almost exactly the same as the original SDK, but we've made a lot of improvements under the hood to improve the developer experience.")),a.createElement("div",{className:"col col--6 padding-vert--lg"},a.createElement(c.Z,{className:"language-bash "},"npm install crawlee"))),a.createElement("div",{className:"row"},a.createElement("h3",{className:"col"},"On the Apify platform")),a.createElement("div",{className:"row"},a.createElement("p",{className:"col"},"In ",a.createElement("b",null,"Apify SDK v2"),", both the ",a.createElement("b",null,"crawling and actor building logic were mixed")," together. This made it easy to build crawlers on the Apify platform, but confusing to build anything else.",a.createElement("b",null," Apify SDK v3 includes only the Apify platform specific functionality"),". To build crawlers on the Apify platform, you need to combine it with ",a.createElement("a",{href:"https://crawlee.dev",target:"_blank",rel:"noreferrer"},a.createElement("b",null,"Crawlee")),". Or you can use it standalone for other projects.")),a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("h3",null,"Build a crawler like you're used to"))),a.createElement("div",{className:"row"},a.createElement("p",{className:"col col--6"},"The following example shows how to build an ",a.createElement("b",null,"SDK-v2-like crawler on the Apify platform"),". To use ",a.createElement("code",null,"PlaywrightCrawler")," you need to install 3 libraries. Apify SDK v3, Crawlee and Playwright. In v2, you only needed to install Apify SDK v2 and Playwright."),a.createElement("div",{className:"col col--6 padding-vert--lg"},a.createElement(c.Z,{className:"language-bash"},"npm install apify crawlee playwright"))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement(r.Z,{type:"caution",title:"Don't forget about module imports"},"To run the example, add a ",a.createElement("code",null,'"type": "module"')," clause into your ",a.createElement("code",null,"package.json")," or copy it into a file with an ",a.createElement("code",null,".mjs")," suffix. This enables ",a.createElement("code",null,"import")," statements in Node.js. See ",a.createElement("a",{href:"https://nodejs.org/dist/latest-v16.x/docs/api/esm.html#enabling",target:"_blank",rel:"noreferrer"},"Node.js docs")," for more information."),a.createElement(c.Z,{language:"javascript"},h))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement(r.Z,{type:"tip",title:"upgrading guide"},a.createElement("p",null,"For more information, see the",a.createElement("a",{href:"docs/upgrading/upgrading-to-v3"}," upgrading guide")," that explains all the changes in great detail.")))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement("h3",null,"Build an actor without Crawlee"))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col col--6"},a.createElement("p",null,"If your actors are not crawlers, or you want to simply wrap existing code and turn it into an actor on the Apify platform, you can do that with standalone Apify SDK v3.")),a.createElement("div",{className:"col col--6"},a.createElement(c.Z,{className:"language-bash"},"npm install apify"))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement(c.Z,{language:"javascript"},g))))}function v(){var e=n(28994).Z,t=(0,m.default)().siteConfig;return a.createElement(o.Z,{description:t.description},a.createElement(p,null),a.createElement(f,null),a.createElement(E,null),a.createElement("div",{className:"container"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col text--center padding-top--lg padding-bottom--xl"},a.createElement(e,{className:u.Z.bottomLogo})))))}},28994:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(67294),l=["title","titleId"];function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}const i=function(e){var t=e.title,n=e.titleId,i=o(e,l);return a.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1080 1080",style:{enableBackground:"new 0 0 1080 1080"},xmlSpace:"preserve","aria-labelledby":n},i),t?a.createElement("title",{id:n},t):null,a.createElement("path",{d:"M189.4 148.8C114.7 159.3 62.7 228.3 73.1 303l80.6 576.8 339.2-773.3-303.5 42.3z",style:{fill:"#6bb435"}}),a.createElement("path",{d:"M1007.9 629.4 976.2 186c-5.6-78.8-76.8-136.4-155.1-125.5L690.5 78.8l287.5 646c21.2-26.3 32.4-60.2 29.9-95.4z",style:{fill:"#0099c5"}}),a.createElement("path",{d:"M277.1 1020c22.3 2.5 45.6-.4 68.2-10L839 801.2 604.3 273.9 277.1 1020z",style:{fill:"#ff7800"}}))}},11207:(e,t,n)=>{n.d(t,{Z:()=>a});const a={buttons:"buttons_AeoN",tagline:"tagline_Bqj_",relative:"relative_WWZZ",codeBlock:"codeBlock_NVHr",heroBanner:"heroBanner_qdFl",logoBlur:"logoBlur_PmTz",heroButtons:"heroButtons_r52D",hideSmall:"hideSmall__p9W",getStarted:"getStarted_D36F",try:"try_iMNP",features:"features_cAfv",bottomLogo:"bottomLogo_ktCI"}},90512:(e,t,n)=>{function a(e){var t,n,l="";if("string"==typeof e||"number"==typeof e)l+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(l&&(l+=" "),l+=n);else for(t in e)e[t]&&(l&&(l+=" "),l+=t);return l}n.d(t,{Z:()=>l});const l=function(){for(var e,t,n=0,l="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(l&&(l+=" "),l+=t);return l}}}]);