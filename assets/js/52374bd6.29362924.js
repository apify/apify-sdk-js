"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9930],{85827:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>p,toc:()=>u});var n=r(87462),o=r(63366),s=(r(67294),r(3905)),a=["components"],i={id:"request-as-browser-options",title:"RequestAsBrowserOptions"},l=void 0,p={unversionedId:"typedefs/request-as-browser-options",id:"version-2.3/typedefs/request-as-browser-options",title:"RequestAsBrowserOptions",description:"Properties",source:"@site/versioned_docs/version-2.3/typedefs/RequestAsBrowserOptions.md",sourceDirName:"typedefs",slug:"/typedefs/request-as-browser-options",permalink:"/sdk/js/docs/2.3/typedefs/request-as-browser-options",draft:!1,editUrl:"https://github.com/apify/apify-sdk-js/edit/master/website/versioned_docs/version-2.3/typedefs/RequestAsBrowserOptions.md",tags:[],version:"2.3",lastUpdatedBy:"renovate[bot]",lastUpdatedAt:1698960215,formattedLastUpdatedAt:"Nov 2, 2023",frontMatter:{id:"request-as-browser-options",title:"RequestAsBrowserOptions"},sidebar:"version-2.3/docs",previous:{title:"RequestListOptions",permalink:"/sdk/js/docs/2.3/typedefs/request-list-options"},next:{title:"SessionOptions",permalink:"/sdk/js/docs/2.3/typedefs/session-options"}},d={},u=[{value:"Properties",id:"properties",level:2},{value:"<code>url</code>",id:"url",level:3},{value:"<code>method</code>",id:"method",level:3},{value:"<code>headers</code>",id:"headers",level:3},{value:"<code>proxyUrl</code>",id:"proxyurl",level:3},{value:"<code>headerGeneratorOptions</code>",id:"headergeneratoroptions",level:3},{value:"<code>languageCode</code>",id:"languagecode",level:3},{value:"<code>countryCode</code>",id:"countrycode",level:3},{value:"<code>useMobileVersion</code>",id:"usemobileversion",level:3},{value:"<code>ignoreSslErrors</code>",id:"ignoresslerrors",level:3},{value:"<code>useInsecureHttpParser</code>",id:"useinsecurehttpparser",level:3},{value:"<code>abortFunction</code>",id:"abortfunction",level:3},{value:"<code>useHttp2</code>",id:"usehttp2",level:3},{value:"<code>sessionToken</code>",id:"sessiontoken",level:3}],c={toc:u},k="wrapper";function h(e){var t=e.components,r=(0,o.Z)(e,a);return(0,s.kt)(k,(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("a",{name:"requestasbrowseroptions"}),(0,s.kt)("h2",{id:"properties"},"Properties"),(0,s.kt)("h3",{id:"url"},(0,s.kt)("inlineCode",{parentName:"h3"},"url")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Type"),": ",(0,s.kt)("inlineCode",{parentName:"p"},"string")),(0,s.kt)("p",null,"URL of the target endpoint. Supports both HTTP and HTTPS schemes."),(0,s.kt)("hr",null),(0,s.kt)("h3",{id:"method"},(0,s.kt)("inlineCode",{parentName:"h3"},"method")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Type"),": ",(0,s.kt)("inlineCode",{parentName:"p"},"string")," ",(0,s.kt)("code",null," = ",'"',"\\",'"',"GET\\",'"','"')),(0,s.kt)("p",null,"HTTP method."),(0,s.kt)("hr",null),(0,s.kt)("h3",{id:"headers"},(0,s.kt)("inlineCode",{parentName:"h3"},"headers")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Type"),": ",(0,s.kt)("inlineCode",{parentName:"p"},"Object<string, string>")),(0,s.kt)("p",null,"Additional HTTP headers to add. It's only recommended to use this option, with headers that are typically added by websites, such as cookies.\nOverriding default browser headers will remove the masking this function provides."),(0,s.kt)("hr",null),(0,s.kt)("h3",{id:"proxyurl"},(0,s.kt)("inlineCode",{parentName:"h3"},"proxyUrl")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Type"),": ",(0,s.kt)("inlineCode",{parentName:"p"},"string")),(0,s.kt)("p",null,"An HTTP proxy to be passed down to the HTTP request. Supports proxy authentication with Basic Auth."),(0,s.kt)("hr",null),(0,s.kt)("h3",{id:"headergeneratoroptions"},(0,s.kt)("inlineCode",{parentName:"h3"},"headerGeneratorOptions")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Type"),": ",(0,s.kt)("inlineCode",{parentName:"p"},"object")),(0,s.kt)("p",null,"Configuration to be used for generating correct browser headers. See the ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/apify/header-generator",target:"_blank",rel:"noopener"},(0,s.kt)("inlineCode",{parentName:"a"},"header-generator"))," library."),(0,s.kt)("hr",null),(0,s.kt)("h3",{id:"languagecode"},(0,s.kt)("inlineCode",{parentName:"h3"},"languageCode")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Type"),": ",(0,s.kt)("inlineCode",{parentName:"p"},"string")," ",(0,s.kt)("code",null," = ",'"',"en",'"')),(0,s.kt)("p",null,"Two-letter ISO 639 language code."),(0,s.kt)("hr",null),(0,s.kt)("h3",{id:"countrycode"},(0,s.kt)("inlineCode",{parentName:"h3"},"countryCode")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Type"),": ",(0,s.kt)("inlineCode",{parentName:"p"},"string")," ",(0,s.kt)("code",null," = ",'"',"US",'"')),(0,s.kt)("p",null,"Two-letter ISO 3166 country code."),(0,s.kt)("hr",null),(0,s.kt)("h3",{id:"usemobileversion"},(0,s.kt)("inlineCode",{parentName:"h3"},"useMobileVersion")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Type"),": ",(0,s.kt)("inlineCode",{parentName:"p"},"boolean")),(0,s.kt)("p",null,"If ",(0,s.kt)("inlineCode",{parentName:"p"},"true"),", the function uses User-Agent of a mobile browser."),(0,s.kt)("hr",null),(0,s.kt)("h3",{id:"ignoresslerrors"},(0,s.kt)("inlineCode",{parentName:"h3"},"ignoreSslErrors")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Type"),": ",(0,s.kt)("inlineCode",{parentName:"p"},"boolean")," ",(0,s.kt)("code",null," = true")),(0,s.kt)("p",null,"If set to true, SSL/TLS certificate errors will be ignored."),(0,s.kt)("hr",null),(0,s.kt)("h3",{id:"useinsecurehttpparser"},(0,s.kt)("inlineCode",{parentName:"h3"},"useInsecureHttpParser")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Type"),": ",(0,s.kt)("inlineCode",{parentName:"p"},"boolean")," ",(0,s.kt)("code",null," = true")),(0,s.kt)("p",null,"Node.js' HTTP parser is stricter than parsers used by web browsers, which prevents scraping of websites whose servers do not comply with HTTP specs,\neither by accident or due to some anti-scraping protections, causing e.g. the ",(0,s.kt)("inlineCode",{parentName:"p"},"invalid header value char")," error. The ",(0,s.kt)("inlineCode",{parentName:"p"},"useInsecureHttpParser")," option\nforces the HTTP parser to ignore certain errors which lets you scrape such websites. However, it will also open your application to some security\nvulnerabilities, although the risk should be negligible as these vulnerabilities mainly relate to server applications, not clients. Learn more in this\n",(0,s.kt)("a",{parentName:"p",href:"https://snyk.io/blog/node-js-release-fixes-a-critical-http-security-vulnerability/",target:"_blank",rel:"noopener"},"blog post"),"."),(0,s.kt)("hr",null),(0,s.kt)("h3",{id:"abortfunction"},(0,s.kt)("inlineCode",{parentName:"h3"},"abortFunction")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Type"),": ",(0,s.kt)("a",{parentName:"p",href:"../typedefs/abort-function",target:null,rel:null},(0,s.kt)("inlineCode",{parentName:"a"},"AbortFunction"))),(0,s.kt)("p",null,"Function accepts ",(0,s.kt)("inlineCode",{parentName:"p"},"response")," object as a single parameter and should return ",(0,s.kt)("inlineCode",{parentName:"p"},"true")," or ",(0,s.kt)("inlineCode",{parentName:"p"},"false"),". If function returns true, request gets aborted."),(0,s.kt)("hr",null),(0,s.kt)("h3",{id:"usehttp2"},(0,s.kt)("inlineCode",{parentName:"h3"},"useHttp2")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Type"),": ",(0,s.kt)("inlineCode",{parentName:"p"},"boolean")," ",(0,s.kt)("code",null," = true")),(0,s.kt)("p",null,"If set to false, it will prevent use of HTTP2 requests. This is strongly discouraged. Websites expect HTTP2 connections, because browsers use HTTP2 by\ndefault. It will automatically downgrade to HTTP/1.1 for websites that do not support HTTP2."),(0,s.kt)("hr",null),(0,s.kt)("h3",{id:"sessiontoken"},(0,s.kt)("inlineCode",{parentName:"h3"},"sessionToken")),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"Type"),": ",(0,s.kt)("inlineCode",{parentName:"p"},"object")),(0,s.kt)("p",null,"A unique object used to generate browser headers. By default, new headers are generated on every call. Set this option to make these headers\npersistent."),(0,s.kt)("hr",null))}h.isMDXComponent=!0},3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>h});var n=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),p=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},d=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,s=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),u=p(r),k=o,h=u["".concat(l,".").concat(k)]||u[k]||c[k]||s;return r?n.createElement(h,a(a({ref:t},d),{},{components:r})):n.createElement(h,a({ref:t},d))}));function h(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var s=r.length,a=new Array(s);a[0]=k;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[u]="string"==typeof e?e:o,a[1]=i;for(var p=2;p<s;p++)a[p]=r[p];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}k.displayName="MDXCreateElement"}}]);